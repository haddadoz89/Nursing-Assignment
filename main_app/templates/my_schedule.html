{% extends 'base.html' %}

{% block title %}My Schedule{% endblock %}

{% block content %}
    <h2 class="mb-3">My Upcoming Schedule</h2>

    {% for shift in my_shifts %}
    <div class="card mb-3">
        <div class="card-header fw-bold">
            {{ shift.date|date:"l, F j, Y" }}
        </div>
        <div class="card-body">
            <h5 class="card-title">{{ shift.shift_type.name }} Shift</h5>
            <ul class="list-group list-group-flush">
                {% for item in shift.assignments.all %}<li class="list-group-item"><strong>Assignment:</strong> {{ item.name }}</li>{% endfor %}
                {% for item in shift.sub_assignments.all %}<li class="list-group-item"><strong>Sub-Assignment:</strong> {{ item.name }}</li>{% endfor %}
                {% for item in shift.clinics.all %}<li class="list-group-item"><strong>Clinic:</strong> {{ item.name }}</li>{% endfor %}
                {% for item in shift.emergency_roles.all %}<li class="list-group-item"><strong>Emergency Role:</strong> {{ item.name }}</li>{% endfor %}
                {% if shift.notes %}<li class="list-group-item"><strong>Notes:</strong> {{ shift.notes }}</li>{% endif %}
            </ul>
        </div>
    </div>
    {% empty %}
        <div class="alert alert-info">
            You have no upcoming shifts assigned.
        </div>
    {% endfor %}

{% endblock %}